
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A profiler for MRI Ruby">
      
      
      
        <link rel="canonical" href="https://ruby-prof.github.io/reports/">
      
      
        <link rel="prev" href="../advanced-usage/">
      
      
        <link rel="next" href="../best-practices.md">
      
      
        
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="zensical-0.0.23">
    
    
      
        <title>Reports - ruby-prof</title>
      
    
    
      
        
      
      <link rel="stylesheet" href="../assets/stylesheets/modern/main.1e989742.min.css">
      
        
          
        
        <link rel="stylesheet" href="../assets/stylesheets/modern/palette.dfe2e883.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,500,500i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Inter";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,t)=>(e<<5)-e+t.charCodeAt(0)),0),__md_get=(e,t=localStorage,a=__md_scope)=>JSON.parse(t.getItem(a.pathname+"."+e)),__md_set=(e,t,a=localStorage,_=__md_scope)=>{try{a.setItem(_.pathname+"."+e,JSON.stringify(t))}catch(e){}},document.documentElement.setAttribute("data-platform",navigator.platform)</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#reports" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="./.." title="ruby-prof" class="md-header__button md-logo" aria-label="ruby-prof" data-md-component="logo">
      
  <img src="../public/images/ruby-prof-logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-menu" viewBox="0 0 24 24"><path d="M4 5h16M4 12h16M4 19h16"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ruby-prof
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Reports
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="none" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-sun" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4"/><path d="M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="none" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-moon" viewBox="0 0 24 24"><path d="M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-search" viewBox="0 0 24 24"><path d="m21 21-4.34-4.34"/><circle cx="11" cy="11" r="8"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog" aria-label="Search">
  <button type="button" class="md-search__button">
    Search
  </button>
</div>
      
    
    <div class="md-header__source">
      
        <a href="https://github.com/ruby-prof/ruby-prof" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    ruby-prof/ruby-prof
  </div>
</a>
      
    </div>
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="./.." title="ruby-prof" class="md-nav__button md-logo" aria-label="ruby-prof" data-md-component="logo">
      
  <img src="../public/images/ruby-prof-logo.svg" alt="logo">

    </a>
    ruby-prof
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ruby-prof/ruby-prof" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    ruby-prof/ruby-prof
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="./.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced-usage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Advanced Usage
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Reports
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="././" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Reports
  

    
  </span>
  
  

      </a>
      
        


<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#creating-reports" class="md-nav__link">
    <span class="md-ellipsis">
      
        Creating Reports
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#report-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        Report Types
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Report Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flat" class="md-nav__link">
    <span class="md-ellipsis">
      
        Flat
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#graph-text" class="md-nav__link">
    <span class="md-ellipsis">
      
        Graph (Text)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#graph-html" class="md-nav__link">
    <span class="md-ellipsis">
      
        Graph (HTML)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flame-graph" class="md-nav__link">
    <span class="md-ellipsis">
      
        Flame Graph
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#call-stack" class="md-nav__link">
    <span class="md-ellipsis">
      
        Call Stack
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#graphviz" class="md-nav__link">
    <span class="md-ellipsis">
      
        Graphviz
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cachegrind" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cachegrind
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#call-info-report" class="md-nav__link">
    <span class="md-ellipsis">
      
        Call Info Report
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-reports" class="md-nav__link">
    <span class="md-ellipsis">
      
        Multiple Reports
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generating-examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Generating Examples
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../best-practices.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Best Practices
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../profiling-rails/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Profiling Rails
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../history/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    History
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../alternatives/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Alternatives
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Changelog
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#creating-reports" class="md-nav__link">
    <span class="md-ellipsis">
      
        Creating Reports
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#report-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        Report Types
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Report Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flat" class="md-nav__link">
    <span class="md-ellipsis">
      
        Flat
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#graph-text" class="md-nav__link">
    <span class="md-ellipsis">
      
        Graph (Text)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#graph-html" class="md-nav__link">
    <span class="md-ellipsis">
      
        Graph (HTML)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flame-graph" class="md-nav__link">
    <span class="md-ellipsis">
      
        Flame Graph
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#call-stack" class="md-nav__link">
    <span class="md-ellipsis">
      
        Call Stack
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#graphviz" class="md-nav__link">
    <span class="md-ellipsis">
      
        Graphviz
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cachegrind" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cachegrind
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#call-info-report" class="md-nav__link">
    <span class="md-ellipsis">
      
        Call Info Report
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-reports" class="md-nav__link">
    <span class="md-ellipsis">
      
        Multiple Reports
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generating-examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Generating Examples
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  
  
  


<h1 id="reports">Reports<a class="headerlink" href="#reports" title="Permanent link">&para;</a></h1>
<p>Once you have completed a profiling run, you will want to generate a report to analyze the results. One of ruby-prof's strengths is the number of ways it lets you visualize profiling results, from quick text summaries to interactive HTML views and external tooling formats. The following table shows all supported report types and when to use them:</p>
<p>For repeatable profiling workflow guidance, see <a href="../best-practices/">Best Practices</a>.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Best For</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>FlatPrinter</code></td>
<td>Finding hottest methods fast (best quick signal by self time)</td>
</tr>
<tr>
<td><code>GraphPrinter</code></td>
<td>Understanding who called a hot method (caller/callee context in text)</td>
</tr>
<tr>
<td><code>GraphHtmlPrinter</code></td>
<td>Exploring large call graphs interactively (clickable navigation)</td>
</tr>
<tr>
<td><code>FlameGraphPrinter</code></td>
<td>Seeing hot paths visually (where time accumulates)</td>
</tr>
<tr>
<td><code>CallStackPrinter</code></td>
<td>Inspecting execution-path dominance (tree of major runtime paths)</td>
</tr>
<tr>
<td><code>CallTreePrinter</code></td>
<td>Using external profiler tooling (KCachegrind/callgrind format)</td>
</tr>
<tr>
<td><code>CallInfoPrinter</code></td>
<td>Debugging ruby-prof internals/data shape (low-level call-tree details)</td>
</tr>
<tr>
<td><code>MultiPrinter</code></td>
<td>Generating several outputs at once (one run, multiple files)</td>
</tr>
</tbody>
</table>
<p>Recommended workflow:</p>
<ol>
<li>Run <code>FlatPrinter</code> to find top offenders.</li>
<li>Use <code>GraphHtmlPrinter</code> (or <code>GraphPrinter</code>) to understand caller/callee relationships.</li>
<li>Use <code>FlameGraphPrinter</code> to visually validate dominant paths.</li>
</ol>
<h2 id="creating-reports">Creating Reports<a class="headerlink" href="#creating-reports" title="Permanent link">&para;</a></h2>
<p>Reports are created via the use of printers:</p>
<div class="language-ruby highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">profile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">RubyProf</span><span class="o">::</span><span class="no">Profile</span><span class="o">.</span><span class="n">profile</span><span class="w"> </span><span class="k">do</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="w">            </span><span class="o">...</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="w">          </span><span class="k">end</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="n">printer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">RubyProf</span><span class="o">::</span><span class="no">GraphPrinter</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">profile</span><span class="p">)</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="n">printer</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="no">STDOUT</span><span class="p">,</span><span class="w"> </span><span class="ss">min_percent</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
</span></code></pre></div>
<p>The first parameter is any writable IO object such as STDOUT or a file. All printers accept the following keyword arguments:</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>min_percent</code></td>
<td><code>0</code></td>
<td>Minimum %self time for a method to be included (0–100).</td>
</tr>
<tr>
<td><code>max_percent</code></td>
<td><code>100</code></td>
<td>Maximum %self time for a method to be included (0–100).</td>
</tr>
<tr>
<td><code>filter_by</code></td>
<td><code>:self_time</code></td>
<td>Which time metric to use when applying <code>min_percent</code> and <code>max_percent</code>.</td>
</tr>
<tr>
<td><code>sort_method</code></td>
<td>varies</td>
<td>How to sort methods. Values: <code>:total_time</code>, <code>:self_time</code>, <code>:wait_time</code>, <code>:children_time</code>.</td>
</tr>
</tbody>
</table>
<h2 id="report-types">Report Types<a class="headerlink" href="#report-types" title="Permanent link">&para;</a></h2>
<h3 id="flat">Flat<a class="headerlink" href="#flat" title="Permanent link">&para;</a></h3>
<p>The flat report shows the overall time spent in each method. It is a good way of quickly identifying which methods take the most time. Use <code>RubyProf::FlatPrinter</code> to generate this report. Default <code>sort_method</code> is <code>:self_time</code>. (<a href="../public/examples/reports/flat.txt" target="_blank">example</a>)</p>
<p><img alt="Flat Report" src="../../public/images/flat.png" /></p>
<h3 id="graph-text">Graph (Text)<a class="headerlink" href="#graph-text" title="Permanent link">&para;</a></h3>
<p>The graph report shows the overall time spent in each method. In addition, it also shows which methods call the current method and which methods it calls. Thus they are good for understanding how methods get called and provide insight into the flow of your program. Use <code>RubyProf::GraphPrinter</code> to generate this report. Default <code>sort_method</code> is <code>:total_time</code>. (<a href="../public/examples/reports/graph.txt" target="_blank">example</a>)</p>
<p><img alt="Graph Report" src="../../public/images/graph.png" /></p>
<h3 id="graph-html">Graph (HTML)<a class="headerlink" href="#graph-html" title="Permanent link">&para;</a></h3>
<p>HTML Graph profiles are the same as graph reports, except output is generated in hyper-linked HTML. Since graph reports can be quite large, the embedded links make it much easier to navigate the results. Use <code>RubyProf::GraphHtmlPrinter</code> to generate this report. Default <code>sort_method</code> is <code>:total_time</code>. (<a href="../public/examples/reports/graph.html" target="_blank">example</a>)</p>
<p><img alt="HTML Graph Report" src="../../public/images/graph_html.png" /></p>
<p>Additional options:</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>min_time</code></td>
<td><code>nil</code></td>
<td>Minimum total time (in seconds) for a method to be shown.</td>
</tr>
<tr>
<td><code>nonzero</code></td>
<td><code>false</code></td>
<td>When <code>true</code>, sets <code>min_time</code> to 0.005 if <code>min_time</code> is not specified.</td>
</tr>
</tbody>
</table>
<h3 id="flame-graph">Flame Graph<a class="headerlink" href="#flame-graph" title="Permanent link">&para;</a></h3>
<p>Flame graph reports produce a self-contained HTML visualization of the profiled code. Each method is represented as a horizontal bar whose width is proportional to its total time. Bars are stacked vertically by call depth, making it easy to identify hot code paths at a glance. A toggle switches between flame (bottom-up) and icicle (top-down) views. Use <code>RubyProf::FlameGraphPrinter</code> to generate this report. (<a href="../public/examples/reports/flame_graph.html" target="_blank">example</a>)</p>
<p><img alt="Flame Graph" src="../../public/images/flame_graph.png" /></p>
<p>Interactive features include hover tooltips (showing method name, self time, total time, percentage, and call count), click-to-zoom into a subtree, a reset zoom button, a search box to highlight matching methods, and a thread selector when multiple threads are profiled.</p>
<div class="language-ruby highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="n">printer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">RubyProf</span><span class="o">::</span><span class="no">FlameGraphPrinter</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="n">printer</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="no">File</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;flame_graph.html&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;w&quot;</span><span class="p">))</span>
</span></code></pre></div>
<p>Additional options:</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>title</code></td>
<td><code>"ruby-prof flame graph"</code></td>
<td>Title displayed in the HTML report.</td>
</tr>
</tbody>
</table>
<h3 id="call-stack">Call Stack<a class="headerlink" href="#call-stack" title="Permanent link">&para;</a></h3>
<p>Call stack reports produce a HTML visualization of the time spent in each execution path of the profiled code. Use <code>RubyProf::CallStackPrinter</code> to generate this report. (<a href="../public/examples/reports/call_stack.html" target="_blank">example</a>)</p>
<p><img alt="Call Stack Report" src="../../public/images/call_stack.png" /></p>
<p>Additional options:</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>title</code></td>
<td><code>"ruby-prof call stack"</code></td>
<td>Title displayed in the HTML report.</td>
</tr>
<tr>
<td><code>threshold</code></td>
<td><code>1.0</code></td>
<td>Minimum %total for a node to be visible (0–100).</td>
</tr>
<tr>
<td><code>expansion</code></td>
<td><code>10.0</code></td>
<td>Minimum %total for a node to be expanded by default (0–100).</td>
</tr>
<tr>
<td><code>application</code></td>
<td><code>$PROGRAM_NAME</code></td>
<td>Application name displayed in the report.</td>
</tr>
</tbody>
</table>
<h3 id="graphviz">Graphviz<a class="headerlink" href="#graphviz" title="Permanent link">&para;</a></h3>
<p>The graphviz report is designed to be opened by <a href="https://www.graphviz.org/">Graphviz</a> to create visualization of profile results. The output can be visualized using the <a href="https://dreampuf.github.io/GraphvizOnline/">Graphviz Online</a> viewer. Use <code>RubyProf::DotPrinter</code> to generate this report. (<a href="../public/examples/reports/graph.dot" target="_blank">example</a>, <a href="../public/examples/reports/graphviz_viewer.html" target="_blank">view online</a>)</p>
<p><img alt="Graphviz Report" src="../../public/images/dot_printer.png" /></p>
<h3 id="cachegrind">Cachegrind<a class="headerlink" href="#cachegrind" title="Permanent link">&para;</a></h3>
<p>Cachegrind output results in the calltree profile format which is used by <a href="https://kcachegrind.github.io/html/Home.html">KCachegrind</a>. More information about the format can be found at the KCachegrind site. Use <code>RubyProf::CallTreePrinter</code> to generate this report. (<a href="../public/examples/reports/callgrind.out" target="_blank">example</a>)</p>
<p>Additional options:</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>path</code></td>
<td><code>"."</code></td>
<td>Directory where callgrind output files are written.</td>
</tr>
</tbody>
</table>
<h3 id="call-info-report">Call Info Report<a class="headerlink" href="#call-info-report" title="Permanent link">&para;</a></h3>
<p>Call info reports print the call tree with timing information for each node. This is mainly useful for debugging purposes as it provides access into ruby-prof's internals. Use <code>RubyProf::CallInfoPrinter</code> to generate this report. (<a href="../public/examples/reports/call_info.txt" target="_blank">example</a>)</p>
<h3 id="multiple-reports">Multiple Reports<a class="headerlink" href="#multiple-reports" title="Permanent link">&para;</a></h3>
<p><code>RubyProf::MultiPrinter</code> can generate several reports in one profiling run. It requires a directory path and a profile basename for the files it produces:</p>
<div class="language-ruby highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="n">printer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">RubyProf</span><span class="o">::</span><span class="no">MultiPrinter</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="n">printer</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="ss">path</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;.&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">profile</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;profile&quot;</span><span class="p">)</span>
</span></code></pre></div>
<table>
<thead>
<tr>
<th>Option</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>path</code></td>
<td><code>"."</code></td>
<td>Directory where report files are written.</td>
</tr>
<tr>
<td><code>profile</code></td>
<td><code>"profile"</code></td>
<td>Base filename for the generated reports.</td>
</tr>
</tbody>
</table>
<p>All other keyword arguments are forwarded to the individual printers.</p>
<h2 id="generating-examples">Generating Examples<a class="headerlink" href="#generating-examples" title="Permanent link">&para;</a></h2>
<p>To regenerate the example reports:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>ruby docs/public/examples/generate_reports.rb
</span></code></pre></div>
<p>This profiles a small word-frequency workload and writes reports to <code>docs/public/examples/reports/</code>.</p>














                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://zensical.org/" target="_blank" rel="noopener">
      Zensical
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      
      <script id="__config" type="application/json">{"annotate":null,"base":"..","features":[],"search":"../assets/javascripts/workers/search.e2d2d235.min.js","tags":null,"translations":{"clipboard.copied":"Copied to clipboard","clipboard.copy":"Copy to clipboard","search.result.more.one":"1 more on this page","search.result.more.other":"# more on this page","search.result.none":"No matching documents","search.result.one":"1 matching document","search.result.other":"# matching documents","search.result.placeholder":"Type to start searching","search.result.term.missing":"Missing","select.version":"Select version"},"version":null}</script>
    
    
      <script src="../assets/javascripts/bundle.5fcf0de6.min.js"></script>
      
    
  </body>
</html>